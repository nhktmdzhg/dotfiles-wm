rules = ( 
  {
    match = "focused";
    opacity = 1.0;
  }, 
  {
    match = "!focused";
    opacity = 0.99;
  }
);
animations = (
  # ========== NORMAL OPEN ANIMATIONS ==========
  {
    # Smooth window opening animation
    triggers = [ "open", "increase-opacity" ];
    # Fade in smoothly
    opacity = {
      curve = "cubic-bezier(0.25, 0.1, 0.25, 1)";
      duration = 0.3;
      start = 0.0;
      end = 1.0;
    };
    # Scale up gently from slightly smaller size
    scale-x = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.25;
      start = 0.95;
      end = 1.0;
    };
    scale-y = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.25;
      start = 0.95;
      end = 1.0;
    };
    # Slide down slightly from above
    offset-y = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.25;
      start = -20;
      end = 0;
    };
  },
  
  {
    # Show animation with simple fade
    triggers = [ "show" ];
    opacity = {
      curve = "cubic-bezier(0.25, 0.1, 0.25, 1)";
      duration = 0.2;
      start = 0.0;
      end = 1.0;
    };
    # Gentle scale effect
    scale-x = {
      curve = "linear";
      duration = 0.15;
      start = 0.98;
      end = 1.0;
    };
    scale-y = {
      curve = "linear";
      duration = 0.15;
      start = 0.98;
      end = 1.0;
    };
  },

  # ========== NORMAL CLOSE ANIMATIONS ==========
  {
    # Smooth window closing animation
    triggers = [ "close" ];
    # Fade out smoothly
    opacity = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.25;
      start = 1.0;
      end = 0.0;
    };
    # Scale down gently
    scale-x = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.2;
      start = 1.0;
      end = 0.9;
    };
    scale-y = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.2;
      start = 1.0;
      end = 0.9;
    };
    # Slide up slightly
    offset-y = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.25;
      start = 0;
      end = -15;
    };
  },

  {
    # Hide animation with simple fade
    triggers = [ "hide" ];
    opacity = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.15;
      start = 1.0;
      end = 0.0;
    };
    # Subtle scale down
    scale-x = {
      curve = "linear";
      duration = 0.12;
      start = 1.0;
      end = 0.95;
    };
    scale-y = {
      curve = "linear";
      duration = 0.12;
      start = 1.0;
      end = 0.95;
    };
  },

  # ========== SMOOTH GEOMETRY EFFECTS ==========
  {
    # Smooth geometry change animation
    triggers = [ "geometry" ];
    # Smooth size transitions
    scale-x = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.15;
      start = "window-width-before / window-width";
      end = 1.0;
    };
    scale-y = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.15;
      start = "window-height-before / window-height";
      end = 1.0;
    };
    # Smooth position transitions
    offset-x = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.15;
      start = "window-x-before - window-x";
      end = 0;
    };
    offset-y = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.15;
      start = "window-y-before - window-y";
      end = 0;
    };
  }
);
shadow = false;
shadow-radius = 0;
shadow-opacity = 0;
shadow-offset-x = 0;
shadow-offset-y = 0;
fading = false;
fade-in-step = 0.023;
fade-out-step = 0.035;
fade-delta = 10;
frame-opacity = 1.0;
inactive-opacity-override = true;
corner-radius = 11;
backend = "glx";
dithered-present = false;
vsync = true;
mark-wmwin-focused = true;
mark-ovredir-focused = true;
detect-rounded-corners = true;
detect-client-opacity = true;
use-ewmh-active-win = true;
unredir-if-possible = false;
detect-transient = true;
detect-client-leader = true;
glx-no-stencil = true;
glx-no-rebind-pixmap = true;
use-damage = true;
xrender-sync-fence = false;
window-shader-fg = "default";
transparent-clipping = false;
log-level = "warn";
log-file = "/dev/null";
no-fading-destroyed-argb = true;
vsync-use-glfinish = true;
