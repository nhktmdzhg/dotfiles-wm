rules = ( 
  {
    match = "focused";
    opacity = 1.0;
  }, 
  {
    match = "!focused";
    opacity = 0.99;
  }
);
animations = (
  # ========== DEMONIC OPEN ANIMATIONS ==========
  {
    # Dark phantom emerges from the void
    triggers = [ "open", "increase-opacity" ];
    # Rise from absolute darkness with soul-piercing intensity
    opacity = {
      curve = "cubic-bezier(0.68, -0.55, 0.265, 1.55)";
      duration = 0.4;
      start = 0.0;
      end = 1.0;
      delay = 0.05;
    };
    # Violent eruption from microscopic size with reality-warping shake
    scale-x = {
      curve = "cubic-bezier(0.175, 0.885, 0.32, 1.675)";
      duration = 0.35;
      start = 0.1;
      end = 1.0;
    };
    scale-y = {
      curve = "cubic-bezier(0.175, 0.885, 0.32, 1.675)";
      duration = 0.35;
      start = 0.1;
      end = 1.0;
    };
    # Crash down from hellish heights like a fallen demon
    offset-y = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.3;
      start = "-window-height * 0.6";
      end = 0;
    };
    # Sinister sideways drift with haunting momentum
    offset-x = {
      curve = "cubic-bezier(0.445, 0.05, 0.55, 0.95)";
      duration = 0.25;
      start = "-40";
      end = 0;
      delay = 0.1;
    };
  },
  
  {
    # Ethereal manifestation with arcane fade-in
    triggers = [ "show" ];
    opacity = {
      curve = "cubic-bezier(0.25, 0.1, 0.25, 1)";
      duration = 0.25;
      start = 0.0;
      end = 1.0;
    };
    # Gentle dimensional shift
    scale-x = {
      curve = "linear";
      duration = 0.2;
      start = 0.95;
      end = 1.0;
    };
    scale-y = {
      curve = "linear";
      duration = 0.2;
      start = 0.95;
      end = 1.0;
    };
  },

  # ========== APOCALYPTIC CLOSE ANIMATIONS ==========
  {
    # Soul-crushing demonic vanishment
    triggers = [ "close" ];
    # Violent flicker before complete annihilation
    opacity = {
      curve = "cubic-bezier(0.55, 0.085, 0.68, 0.53)";
      duration = 0.3;
      start = 1.0;
      end = 0.0;
    };
    # Brutal implosion into the void
    scale-x = {
      curve = "cubic-bezier(0.6, -0.48, 0.735, 0.045)";
      duration = 0.25;
      start = 1.0;
      end = 0.05;
    };
    scale-y = {
      curve = "cubic-bezier(0.6, -0.48, 0.735, 0.045)";
      duration = 0.25;
      start = 1.0;
      end = 0.05;
    };
    # Ascension to digital purgatory
    offset-y = {
      curve = "cubic-bezier(0.215, 0.61, 0.355, 1)";
      duration = 0.35;
      start = 0;
      end = "-window-height * 0.8";
    };
    # Final death throes with violent shake
    offset-x = {
      curve = "cubic-bezier(0.445, 0.05, 0.55, 0.95)";
      duration = 0.2;
      start = 0;
      end = "25";
      delay = 0.05;
    };
  },

  {
    # Silent shadow dissolve into oblivion
    triggers = [ "hide" ];
    opacity = {
      curve = "cubic-bezier(0.77, 0, 0.175, 1)";
      duration = 0.2;
      start = 1.0;
      end = 0.0;
    };
    # Subtle dimensional collapse
    scale-x = {
      curve = "linear";
      duration = 0.15;
      start = 1.0;
      end = 0.9;
    };
    scale-y = {
      curve = "linear";
      duration = 0.15;
      start = 1.0;
      end = 0.9;
    };
  },

  # ========== REALITY-WARPING GEOMETRY EFFECTS ==========
  {
    # Arcane morphing when dimensions shift
    triggers = [ "geometry" ];
    # Smooth reality distortion
    scale-x = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.15;
      start = "window-width-before / window-width";
      end = 1.0;
    };
    scale-y = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.15;
      start = "window-height-before / window-height";
      end = 1.0;
    };
    # Spacetime continuum adjustment
    offset-x = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.15;
      start = "window-x-before - window-x";
      end = 0;
    };
    offset-y = {
      curve = "cubic-bezier(0.25, 0.46, 0.45, 0.94)";
      duration = 0.15;
      start = "window-y-before - window-y";
      end = 0;
    };
  }
);
shadow = false;
shadow-radius = 0;
shadow-opacity = 0;
shadow-offset-x = 0;
shadow-offset-y = 0;
fading = false;
fade-in-step = 0.023;
fade-out-step = 0.035;
fade-delta = 10;
frame-opacity = 1.0;
inactive-opacity-override = true;
corner-radius = 11;
backend = "glx";
dithered-present = false;
vsync = true;
mark-wmwin-focused = true;
mark-ovredir-focused = true;
detect-rounded-corners = true;
detect-client-opacity = true;
use-ewmh-active-win = true;
unredir-if-possible = false;
detect-transient = true;
detect-client-leader = true;
glx-no-stencil = true;
glx-no-rebind-pixmap = true;
use-damage = true;
xrender-sync-fence = false;
window-shader-fg = "default";
transparent-clipping = false;
log-level = "warn";
log-file = "/dev/null";
no-fading-destroyed-argb = true;
vsync-use-glfinish = true;